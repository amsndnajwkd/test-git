<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
        // DOMContentLoaded: 이벤트 명칭
            const bt = document.getElementById('ok');
            // document.getElementById('ok'): HTML 문서에서 id가 'ok'인 요소를 찾습니다.
            // 이 요소를 bt라는 변수에 저장합니다. + 이 변수를 통해, 요소를 조작할 수 있습니다.
            const modal = document.querySelector('.modal');
            // document.querySelector('.modal'): HTML 문서에서 클래스가 'modal'인 첫 번째 요소를 찾습니다.
            // 예를 들어, <div class="modal">...</div> 같은 덩어리 요소를 → modal이라는 변수로 접근할 수 있게 됩니다.
            const modalBody = document.querySelector('.modal-body');
            // 위와 마찬가지
const indiv = document.getElementById('inDiv');
            bt.addEventListener('click', () => modal.classList.add('show'))
            // 버튼 받은 곳에.('클릭')이벤트추가, (클릭시)=> 상수 모달에.클래스 명칭에 'show' 추가

            modal.addEventListener('click', (e) => {
            // 모달에.('클릭')이벤트추가, (클릭시)=> 
                modal.classList.remove('show');
                // 모달을 눌렀을 때 이벤트를 발생시킨다 => 클래스 명칭에서 show를 없앤다.

                // 1. 원래 했던 코드
                // modalBody.addEventListener('click', event => event.stopPropagation())
                // 모달바디에 클릭 이벤트 추가 => stopPropagation 범위 늘리지말고 modalBody 내에서만 이벤트 발생하게
                /*
                modalBody.addEventListener('click', event => event.stopPropagation())는 
                이벤트 처리에서 
                자주 사용되는 코드입니다. 
                여기서 stopPropagation 메서드는 
                이벤트 버블링을 방지하는 데 사용됩니다. 
                구체적으로 설명하자면:

                이벤트 버블링(Event Bubbling)
                웹 브라우저에서 발생하는 
                이벤트는 
                DOM 트리에서 
                가장 깊은 요소에서 시작하여 
                상위 요소로 전파됩니다. 
                이를 이벤트 버블링이라고 합니다. 
                예를 들어, 
                사용자가 버튼을 클릭하면 
                클릭 이벤트가 
                버튼에서 시작하여 
                부모 요소, 
                조상 요소로 전파됩니다.

                stopPropagation() 메서드
                event.stopPropagation() 메서드는 
                이벤트가 
                상위 요소로 전파되지 않도록 
                막는 기능을 합니다. 
                즉,
                이벤트가 더 이상 상위 요소로 전파되지 않고 
                {현재 요소에서만 처리}됩니다.

                그래서 잡은 범위는 모달이지만 모달바디를 눌러도 아무일이 일어나지 않음.
                */
                
                // 2. 더 복잡하게 해보라는 것. 
                indiv.addEventListener('click', event => event.stopPropagation())
                /*
                const indiv = document.getElementById('inDiv');
                밑에 div로 indiv를 감싸서 하면됨 
                이거 추가하면 됨
                */
            })
        })
        
    
    </script>
    <style>
        body {
            margin: 0;
            padding: 30px;
        }

        .modal {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal.show {
            display: block;
        }

        .modal-body {
            position: relative;
            top: calc(50% - 200px);
            /* left: 35%; */
            margin: 0 auto;
            width: 250px;
            height: 400px;
            padding: 20px;
            text-align: start;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 3px 0 rgba(34, 36, 38, 0.15);


        }
    </style>
</head>

<body>
    <!-- 모달창영역 -->
    <div class="modal">
        <div class="modal-body">
            <span>게시글작성</span>
            <hr>
            <div class="modal-title">
                <span>작성자:</span>
            </div>
            <div id="inDiv">
                <span>제목:</span>
                <input type="text"><br>
                <span>내용:</span><br>
                <textarea name="" id="" cols="30" row="10"></textarea>
            </div>
        </div>
    </div>

    <!-- 본문내용영역 -->
    <h2>Lorem ipsum dolor sit amet consectetur adipisicing elit. Vel voluptates, rem esse assumenda doloremque nisi, non
        consequuntur molestiae rerum voluptatem fuga quae neque eaque quas iste possimus magni ducimus molestias. Nobis
        labore laudantium iusto officiis? Accusantium sint necessitatibus quasi quod, accusamus nihil iure nulla omnis
        tempora quo id cum natus placeat cumque! Adipisci aperiam eveniet soluta unde.</h2>
    <button id="ok">확인</button>

</body>

</html>